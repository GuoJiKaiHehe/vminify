"use strict";var _extends=Object.assign||function(o){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(o[i]=s[i])}return o},exec=require("child_process").exec;function Vminify(o){if(!(this instanceof Vminify))return new Vminify(o);this.options=_extends({src:"",dist:"",command:"",quality:"500k",width:"",height:""},o),this.options.command&&exec(this.options.command,function(o,t,s){o&&console.log(o)&&process.exit(),console.log("stdout",t),console.log("stderr",s)}),!this.options.src&&console.log("\n Ã— Please enter this video src.")&&process.exit(),this.options.dist=this.options.dist?this.options.dist:this.options.src,this.options.command="ffmpeg -i "+this.options.src+" -b:v "+this.options.quality+" -bufsize "+this.options.quality+" -c:v libx264 "+(this.options.width&&this.options.height?"-s "+this.options.width+"x"+this.options.height:"")+" "+this.options.dist,exec(this.options.command,function(o,t,s){o&&console.log(o)&&process.exit(),console.log("stdout",t),console.log("stderr",s)})}